{% macro register_teaser(title=title,display_page_number=1,search_term='',single=false, suppressAddressLink=false) %}
  <div class="teaser teaser-register">
    <h2 class="heading-small {% if not single %}spacing-top-half{% endif %}">
      {% if title['data'] and not suppressAddressLink %}
        <a href="confirm_selection?title_number={{title['data']['title_number']}}&amp;page={{display_page_number}}&amp;search_term={{search_term}}">{{ title['address'] }}</a>
      {% else %}
        {{ title['address'] }}
      {% endif %}
    </h2>

    {% if title['data'] %}

      <b class="bold-xsmall">{{ title['tenure'] }}</b>

      {% if title['is_caution_title'] %}
        <p class="font-xsmall"><strong class="bold">Caution against first registration</strong> <a class="split-detail-trigger" href="#whats-caution-against-first-registration{{ title['data']['title_number'] | replace(' ', '-') }}">What's this?</a></p>

        <div class="split-detail-contents font-xsmall" id="whats-caution-against-first-registration{{ title['data']['title_number'] | replace(' ', '-') }}">
          <div class="panel panel-border-narrow">
            <p>This property hasn’t been registered yet. You can’t find out who owns it from this service.</p>
            <p>Someone other than the owner (known as the ‘cautioner’) has registered a right or interest in the property. They will be told if anyone tries to register it, and can object to the registration going ahead until their claim has been looked at. You can get their name and address from this service.</p>
            <p>Registration has only been compulsory since the 1990s. Property that hasn’t changed hands since then may not be registered.</p>
          </div>
        </div>
      {% endif %}

    {% else %}

      <p class="font-xsmall">No title information found <a class="split-detail-trigger" href="#no-title-information-found{{ title['data']['title_number'] | replace(' ', '-') }}">Why <span class="visuallyhidden">has title information </span>not<span class="visuallyhidden"> been found for {{ title['address'] }}</span>?</a></p>

      <div class="split-detail-contents font-xsmall" id="no-title-information-found{{ title['data']['title_number'] | replace(' ', '-') }}">
        <div class="panel panel-border-narrow">

          <p>This may be because:</p>

          <ul class="list list-bullet">
            <li>This service is new, so some titles aren’t available here yet. Try  <a href="https://eservices.landregistry.gov.uk/wps/portal/Property_Search">searching on HM Land Registry 'Find a Property' service</a> instead.</li>
            <li>The property isn’t registered yet. Registration has only been compulsory across England and Wales since the 1990s. If the property hasn’t changed hands since then it may not be registered.</li>
          </ul>
        </div>
      </div>

    {% endif %}
  </div>
{% endmacro %}
