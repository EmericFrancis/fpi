{% extends "./layout/layout.html" %}

{% block head_additionals %}

  <style type="text/css">
  .form-group {
    position: relative;
  }

  .form-group .proto-annotation {
    color: #333;
    font-weight: bold;
    position: absolute;
    left: 50%;
    margin-left: 20px;
    top: 0;
    max-width: 100%;
    min-height: 100%;
    padding: 15px;
    box-shadow: 0 10px 10px rgba(0,0,0,0.15);
    background-color: beige;
    font-size: 14px;
    border-bottom-right-radius: 60px 5px;
  }
  </style>

{% endblock %}

{% block title %}Create account{% endblock %}

{% block body %}
  <h1 class="heading-large">Create account</h1>

  <div class="grid-row spacing-top-single">

    <div class="column-two-thirds tablet-column-two-thirds">

      <form action="worldpay_1" method="POST" novalidate data-clientside-validation="create_account_form_validation">
        <input name="title_number" value="{{title_number}}" type="hidden" />

        <p>Intro blurb here regarding why an account is required. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p>

        <h2 class="heading-medium">Your name</h2>

        <fieldset class="inline">

          <legend class="visuallyhidden">Your name</legend>

          <div class="form-group" style="margin-bottom: 80px">
            <label class="form-label" for="title">Title</label>
            <select class="form-control" id="title" name="title">
              <option value="">Please select</option>
              <option value="Mr">Mr</option>
              <option value="Mrs">Mrs</option>
              <option value="Miss">Miss</option>
              <option value="Ms">Ms</option>
              <option value="Other">Other</option>
            </select>

            {% if annotation %}
              <div class="proto-annotation">
                The gov.uk service manual <a href="https://www.gov.uk/service-manual/user-centred-design/resources/patterns/names.html#titles">recommends against asking for people's title</a> as you risk upsetting people and there are <a href="https://www.gov.uk/service-manual/user-centred-design/resources/patterns/gender-and-sex.html">a wide range of issues surrounding gender</a>
              </div>
            {% endif %}
          </div>

          <div class="form-group">
            <label class="form-label" for="firstname">First name</label>
            <input class="form-control" type="text" id="firstname" name="firstname">

            {% if annotation %}
              <div class="proto-annotation">
                The gov.uk service manual <a href="https://www.gov.uk/service-manual/user-centred-design/resources/patterns/names.html">recommends that you use a single name field</a> as it is more sensitive to cultural conventions. If necessary, this could be split by the first whitespace character to populate database fields.
              </div>
            {% endif %}
          </div>

          <div class="form-group">
            <label class="form-label" for="surname">Surname</label>
            <input class="form-control" type="text" id="surname" name="surname">
          </div>
        </fieldset>

        <h2 class="heading-medium">Address</h2>

        <fieldset class="inline">

          <legend class="visuallyhidden">Address</legend>

          <div class="form-group">
            <label class="form-label" for="address">Address</label>
            <input class="form-control" type="text" id="address" name="address">
          </div>

          <div class="form-group">
            <label class="form-label" for="city">City</label>
            <input class="form-control" type="text" id="city" name="city">
          </div>

          <div class="form-group">
            <label class="form-label" for="country">Country</label>
            <select class="form-control" id="country" name="country">
              {% for country in countries %}
                <option value="{{country.entry.country}}" {% if country.entry.country == 'GB' %}selected{% endif %}>{{country.entry.name}}</option>
              {% endfor %}
            </select>
          </div>

          <div class="form-group">
            <label class="form-label" for="postcode">Postcode</label>
            <input class="form-control" type="text" id="postcode" name="postcode">
          </div>

        </fieldset>

        <h2 class="heading-medium">Account details</h2>

        <fieldset class="inline">

          <legend class="visuallyhidden">Account details</legend>

          <div class="form-group">
            <label class="form-label" for="email">Email address</label>
            <input class="form-control" type="email" id="email" name="email">
          </div>

          <div class="form-group">
            <label class="form-label" for="pass">Password</label>
            <input class="form-control" type="password" id="pass" name="pass">

            <label class="form-checkbox" for="show-password">
              <input id="show-password" name="show-password" type="checkbox">
              Show typing
            </label>
          </div>

        </fieldset>

        <input type="submit" class="button" value="Create account">
      </form>

      <script type="application/json" id="create_account_form_validation">
        {
          "title": {
            "presence": {
              "message": "Title is required"
            }
          },
          "firstname": {
            "presence": {
              "message": "First name is required"
            }
          },
          "surname": {
            "presence": {
              "message": "Surname is required"
            }
          },
          "address": {
            "presence": {
              "message": "Address is required"
            }
          },
          "city": {
            "presence": {
              "message": "City is required"
            }
          },
          "country": {
            "presence": {
              "message": "Country is required"
            }
          },
          "postcode": {
            "presence": {
              "message": "Postcode is required"
            }
          },
          "email": {
            "presence": {
              "message": "Email address is required"
            }
          },
          "pass": {
            "presence": {
              "message": "Password is required"
            },
            "length": {
              "minimum": 6,
              "message": "Password should be at least 6 characters long"
            }
          }
        }
      </script>
    </div>
  </div>
{% endblock %}
